# Copyright (C) 2018 Istituto Italiano di Tecnologia (IIT). All rights reserved.
# This software may be modified and distributed under the terms of the
# GNU Lesser General Public License v2.1 or any later version.

find_package(BlockFactory COMPONENTS
    BlockFactoryCoder REQUIRED)

include(TargetFromGeneratedCode)

set(SIMULINK_MODEL_NAME "AutogenerationExample")

# This macro creates a target named as the mdl file for the autogenerated class
target_from_generated_code(
    MODELNAME ${SIMULINK_MODEL_NAME}
    SOURCE_FOLDER ${CMAKE_CURRENT_SOURCE_DIR}/${SIMULINK_MODEL_NAME}_grt_rtw)

#add_executable(${SIMULINK_MODEL_NAME}-main ${CMAKE_SOURCE_DIR}/src/driver.cpp)
#target_link_libraries(${SIMULINK_MODEL_NAME}-main ${SIMULINK_MODEL_NAME})
